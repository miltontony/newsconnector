{% extends "base.html" %}

{% block head %}
<link rel="stylesheet" type="text/css" href="{{STATIC_URL}}css/results.css" />
{% endblock %}

{% block content %}
<div id="search-latest">
  <fieldset>
    <legend>Latest</legend>
    {% for n in news_top %}
	<article>
		<a target="_blank" href="{{n.link}}"><label>{{n.title|truncatechars:37 }}</label></a>
		<article-content>
		{{n.content}}
		</article-content>
		<article-footer>
			{{n.date|date:"D, d M H:m"}}<br/>
			<a href="{{n.link}}">{{n.source}}</a>
		</article-footer>
	</article>
    {% endfor %}
  </fieldset>
</div>

{% if news %}
<div id="search-results">
  <fieldset>
    <legend> Results &ndash; Page {{paged_news.number}} of {{paged_news.paginator.num_pages}}</legend>
    <div>
    {% for n in news %}
	<article>
		<a target="_blank" href="{{n.link}}"><span>{{n.title}}</span></a>
		<article-content>{{n.content}}</article-content>
		<article-footer>
			{{n.date|date:"D, d M H:m"}} | 
			<a href="{{n.link}}">{{n.source}}</a>
		</article-footer>
	</article>
    {% endfor %}
    </div>
  </fieldset>
</div>
{% endif %}
	
<div id="search-pagination">
	{% if paged_news.has_previous %}
	<a href="?q={{q}}&page={{ paged_news.previous_page_number }}">&lt;</a>
	{% endif %}
	{% if show_first %}
	<a href="?q={{q}}&page=1" {% if paged_news.number == 1 %}class="active"{%endif%}>1</a>
	<a class="elipses">...</a>
	{% endif %}
	{% for i in pages %}
	<a href="?q={{q}}&page={{ i }}" {% if paged_news.number == i %}class="active"{%endif%}>{{i}}</a>
	{% endfor %}
	{% if show_last %}
	<a class="elipses">...</a>
	<span class="page"><a href="?q={{q}}&page={{paged_news.paginator.num_pages}}">{{ paged_news.paginator.num_pages }}</a></span>
	{% endif %}
	{% if paged_news.has_next %}
	<a href="?q={{q}}&page={{ paged_news.next_page_number }}">&gt;</a>
	{% endif %}
</div>
{% endblock %}

{% block js %}
	
$(document).ready(function(){
	//$('#article-details').pajinate();
});	

{% endblock %}